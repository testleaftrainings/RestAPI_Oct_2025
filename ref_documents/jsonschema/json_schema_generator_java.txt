json schema generator java

Generating JSON Schema from Java classes is achievable using libraries like victools/jsonschema-generator or Jackson's jsonSchema module.

Using victools/jsonschema-generator:
This library offers a robust solution for creating JSON Schemas from Java classes, supporting various drafts of the JSON Schema specification.

Add the dependency: Include the jsonschema-generator and any relevant modules (e.g., jsonschema-module-jackson for Jackson annotations) in your pom.xml or build.gradle.

    <dependency>
        <groupId>com.github.victools</groupId>
        <artifactId>jsonschema-generator</artifactId>
        <version>4.30.0</version> <!-- Use the latest version -->
    </dependency>
    <dependency>
        <groupId>com.github.victools</groupId>
        <artifactId>jsonschema-module-jackson</artifactId>
        <version>4.30.0</version> <!-- Use the latest version -->
    </dependency>

Generate the schema: Instantiate a SchemaGeneratorConfigBuilder and SchemaGenerator, then use the generateSchema() method with your target Java class.

    import com.github.victools.jsonschema.generator.Option;
    import com.github.victools.jsonschema.generator.SchemaGenerator;
    import com.github.victools.jsonschema.generator.SchemaGeneratorConfigBuilder;
    import com.github.victools.jsonschema.generator.SchemaVersion;
    import com.fasterxml.jackson.databind.ObjectMapper;
    import com.fasterxml.jackson.databind.node.ObjectNode;

    public class JsonSchemaGeneratorExample {
        public static void main(String[] args) throws Exception {
            SchemaGeneratorConfigBuilder configBuilder = new SchemaGeneratorConfigBuilder(SchemaVersion.DRAFT_2020_12, Option.MAP_VALUES_AS_ADDITIONAL_PROPERTIES);
            SchemaGenerator generator = new SchemaGenerator(configBuilder.build());
            ObjectNode jsonSchema = generator.generateSchema(MyJavaClass.class);

            ObjectMapper objectMapper = new ObjectMapper();
            System.out.println(objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(jsonSchema));
        }
    }

    // Example Java class
    class MyJavaClass {
        public String name;
        public int age;
    }

Using Jackson's jsonSchema module:

Jackson, a popular JSON processing library, also provides a module for JSON Schema generation.

Add the dependency: Include the jackson-module-jsonSchema in your project.

    <dependency>
        <groupId>com.fasterxml.jackson.module</groupId>
        <artifactId>jackson-module-jsonSchema</artifactId>
        <version>2.16.1</version> <!-- Use the latest version -->
    </dependency>


Generate the schema: Create an ObjectMapper and JsonSchemaGenerator, then call generateSchema() with your class.

    import com.fasterxml.jackson.core.JsonProcessingException;
    import com.fasterxml.jackson.databind.ObjectMapper;
    import com.fasterxml.jackson.module.jsonSchema.JsonSchema;
    import com.fasterxml.jackson.module.jsonSchema.JsonSchemaGenerator;

    public class JacksonSchemaGeneratorExample {
        public static void main(String[] args) throws JsonProcessingException {
            ObjectMapper jacksonObjectMapper = new ObjectMapper();
            JsonSchemaGenerator schemaGen = new JsonSchemaGenerator(jacksonObjectMapper);
            JsonSchema schema = schemaGen.generateSchema(MyJavaClass.class);
            String schemaString = jacksonObjectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(schema);
            System.out.println(schemaString);
        }
    }

    // Example Java class
    class MyJavaClass {
        public String name;
        public int age;
    }

Both methods effectively generate JSON Schema from Java classes, allowing for data validation and clear documentation of your JSON structures. Choose the library that best fits your project's existing dependencies and requirements.